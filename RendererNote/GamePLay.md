---
typora-copy-images-to: img\GamePlay
---

## 设计剖析



### 动物井解密设计

核心驱动力：相对明确的收集要素

新鲜感：多种道具机制，排列组合产生不同体验的解密

机制引导：

​	第一关：A机制

​	第二关：B机制

​	第三关：C机制

​	第四关：A+B

​	第五关：A+C

​	第六关：A+B+C

​	引导过程中，侧重“无意中发现这个机制”的体验





## 实现玩法机制



### 魔法阵系统

本系统旨在实现一整套数值严谨的魔法阵系统

本系统固定0.5s一跳，每跳进行各类判定

1. 抽象基类: MagicCircle_Base

​	定义了魔法阵通用的属性与方法



2. 枚举类：MagicCircle_Type

​	列举魔法阵的属性



3. 若干魔法阵类：MagicCircle_General……

​	实现抽象类的方法，并拥有不同的特殊能力

​	(1). 魔法阵融合

​		法阵融合的过程由**基底法阵**和**内嵌法阵**组成，融合后所有法阵的特性功能均会被无损保留，功率、容量、法力会被叠加，属性会保留最高等级中最高法力的法阵的属性（如果有多个最高等级的的最高法力法阵，则保留多属性）。

​		每个法阵都有一个**插槽数量**的属性，指作为基底法阵时可嵌入的法阵数量；每个法阵都有一个**半径**的属性，每个插槽也都拥有一个**插槽半径**的属性，只有基底法阵的插槽半径和内嵌法阵的半径吻合才能进行融合。

​		融合**成功率**是基于**魔法阵完整度**这一参数计算的，如果目标法阵的完整度均为满则成功率为1，反之为0。

​		融合**异变率**也是基于**魔法阵完整度**计算的，如果目标法阵的完整度均为满则异变率为0，反之为1，同时异变幅度遵循正态分布（大概率是小幅度异变），每次异变都会可能使任何属性发生改变，且只有较高幅度的异变才能使属性发生异变。

​	(2). 魔法阵拆解

​		魔法阵拆解会导致**基底法阵**彻底被摧毁。

​		由于融合过程已经将属性融合，所以拆解后的得到的法阵的属性会基于源法阵的属性中随机抽选。

​		拆解后，功率、容量、法力会被拆分，拆分比例基于法阵等级计算，完整度继承源法阵。

​	(3). 魔法阵的状态

​		休眠状态：当法力值小于输入功率时触发，功能失效

​		充能状态：手动进入该状态，持续获取法力值直到最大容量，但功能失效

​		激发状态：当法力值大于输入功率时触发，功能生效。（不同类型的魔法阵可能有多种激发态）

​		超频状态：手动进入该状态，功率、容量、法力增强，持续损失法阵完整度

​		摧毁状态：当魔法阵完整度归零时，摧毁魔法阵，摧毁状态下功能永久失效，无法修复；

​	(4). 魔法阵

​	(5). 魔法阵

​		

4. 魔法阵管理类：MagicCircle_Manager

​	挂载在魔法阵的GameObject上，是“若干魔法阵类”的实例化
